<!DOCTYPE html>
<html style="font-size: 16px;" lang="fr"><head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="">
    <meta name="description" content="">
    <title>RGB Server</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
<link rel="stylesheet" href="RGB-Server.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 7.1.0, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    
    
    
    
    
    
    
    
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": "TP ESP32",
		"logo": "/images/Logo.png"
}</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="RGB Server">
    <meta property="og:description" content="">
    <meta property="og:type" content="website">
  <meta data-intl-tel-input-cdn-path="intlTelInput/"></head>
  <body data-path-to-root="/" data-include-products="false" class="u-body u-xl-mode" data-lang="fr"><header class="u-clearfix u-header u-palette-4-light-3 u-header" id="sec-6f81"><div class="u-clearfix u-sheet u-sheet-1">
        <a href="/" class="u-image u-logo u-image-1" data-image-width="405" data-image-height="451" title="Accueil">
          <img src="/images/Logo.png" class="u-logo-image u-logo-image-1">
        </a>
        <nav class="u-align-left u-font-size-14 u-menu u-menu-hamburger u-nav-spacing-25 u-offcanvas u-menu-1" data-responsive-from="XL">
          <div class="menu-collapse">
            <a class="u-button-style u-hamburger-link u-nav-link u-hamburger-link-1" href="#">
              <svg class="u-svg-link" preserveAspectRatio="xMidYMin slice" viewBox="0 0 302 302" style=""><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-7b92"></use></svg>
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="svg-7b92" x="0px" y="0px" viewBox="0 0 302 302" style="enable-background:new 0 0 302 302;" xml:space="preserve" class="u-svg-content"><g><rect y="36" width="302" height="30"></rect><rect y="236" width="302" height="30"></rect><rect y="136" width="302" height="30"></rect>
</g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container">
            <ul class="u-nav u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="/" style="padding: 10px 20px;">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" style="padding: 10px 20px;">----ESP32----</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="/Démarrage.html" style="padding: 10px 20px;">Getting Started</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" href="/RGB-Server.html" style="padding: 10px 20px;">RGB Server</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-2-base" style="padding: 10px 20px;">--------------</a>
</li></ul>
          </div>
          <div class="u-custom-menu u-nav-container-collapse">
            <div class="u-align-center u-black u-container-align-center u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
              <div class="u-inner-container-layout u-sidenav-overflow">
                <div class="u-menu-close"></div>
                <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-2"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="/">Home</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link">----ESP32----</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="/Démarrage.html">Getting Started</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="/RGB-Server.html">RGB Server</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link">--------------</a>
</li></ul>
              </div>
            </div>
            <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
          </div>
        </nav>
      </div></header>
    <section class="u-clearfix u-white u-section-1" id="sec-9ad6">
      <div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-text u-text-1">For future reference, keep in mind these resistor colors.</p>
        <img class="u-image u-image-contain u-image-default u-image-1" src="/images/image4.png" alt="" data-image-width="371" data-image-height="148">
        <img class="u-image u-image-contain u-image-default u-image-2" src="/images/image5.png" alt="" data-image-width="389" data-image-height="147">
        <img class="u-image u-image-contain u-image-default u-image-3" src="/images/image6.png" alt="" data-image-width="390" data-image-height="152">
      </div>
    </section>
    <section class="u-align-left u-clearfix u-container-align-left u-section-2" id="sec-552d">
      <div class="u-clearfix u-sheet u-valign-middle-md u-valign-middle-sm u-valign-middle-xs u-sheet-1">
        <div class="fr-view u-clearfix u-rich-text u-text u-text-1">
          <h1 style="text-align: left;">RGB Server</h1>
          <p style="text-align: left;">In this page we'll learn how to connect our ESP-32 to a WI-FI network and setting up a simple premade server to control an RGB light.</p>
          <p style="text-align: left;">Before proceeding make sure you finishe the getting Started page!</p>
        </div>
      </div>
    </section>
    <section class="u-clearfix u-section-3" id="sec-db51">
      <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <p class="u-text u-text-1">Here is the code we will be using for this part</p>
      </div>
    </section>
    <section class="u-clearfix u-grey-10 u-section-4" id="sec-1fb8">
      <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <p class="u-custom-font u-font-courier-new u-text u-text-1"> // Load Wi-Fi library<br>#include &lt;WiFi.h&gt;<br>
          <br>// Replace with your network credentials<br>const char* ssid = "<span class="u-text-palette-2-base" style="font-weight: 700; font-style: italic; text-decoration: underline !important;">YOURSSID</span>";<br>const char* password = "<span class="u-text-palette-2-base" style="font-weight: 700; font-style: italic; text-decoration: underline !important;">YOURPASSWORD</span>";<br>// Set web server port number to 80<br>WiFiServer server(80);<br>
          <br>// Decode HTTP GET value<br>String redString = "0";<br>String greenString = "0";<br>String blueString = "0";<br>int pos1 = 0;<br>int pos2 = 0;<br>int pos3 = 0;<br>int pos4 = 0;<br>
          <br>// Variable to store the HTTP req &nbsp;uest<br>String header;<br>
          <br>// Red, green, and blue pins for PWM control<br>const int redPin = 13; &nbsp; &nbsp; // 13 corresponds to GPIO13<br>const int greenPin = 12; &nbsp; // 12 corresponds to GPIO12<br>const int bluePin = 14; &nbsp; &nbsp;// 14 corresponds to GPIO14<br>
          <br>// Setting PWM frequency, channels and bit resolution<br>const int freq = 5000;<br>const int redChannel = 0;<br>const int greenChannel = 1;<br>const int blueChannel = 2;<br>// Bit resolution 2^8 = 256<br>const int resolution = 8;<br>
          <br>// Current time<br>unsigned long currentTime = millis();<br>// Previous time<br>unsigned long previousTime = 0; <br>// Define timeout time in milliseconds (example: 2000ms = 2s)<br>const long timeoutTime = 2000;<br>
          <br>void setup() {<br>&nbsp; Serial.begin(115200);<br>&nbsp; // configure LED PWM functionalitites<br>&nbsp; ledcSetup(redChannel, freq, resolution);<br>&nbsp; ledcSetup(greenChannel, freq, resolution);<br>&nbsp; ledcSetup(blueChannel, freq, resolution);<br>&nbsp; <br>&nbsp; // attach the channel to the GPIO to be controlled<br>&nbsp; ledcAttachPin(redPin, redChannel);<br>&nbsp; ledcAttachPin(greenPin, greenChannel);<br>&nbsp; ledcAttachPin(bluePin, blueChannel);<br>&nbsp; <br>&nbsp; // Connect to Wi-Fi network with SSID and password<br>&nbsp; Serial.print("Connecting to ");<br>&nbsp; Serial.println(ssid);<br>&nbsp; WiFi.begin(ssid, password);<br>&nbsp; while (WiFi.status() != WL_CONNECTED) {<br>&nbsp; &nbsp; delay(500);<br>&nbsp; &nbsp; Serial.print(".");<br>&nbsp; }<br>&nbsp; // Print local IP address and start web server<br>&nbsp; Serial.println("");<br>&nbsp; Serial.println("WiFi connected.");<br>&nbsp; Serial.println("IP address: ");<br>&nbsp; Serial.println(WiFi.localIP());<br>&nbsp; server.begin();<br>}<br>
          <br>void loop(){<br>&nbsp; WiFiClient client = server.available(); &nbsp; // Listen for incoming clients<br>
          <br>&nbsp; if (client) { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // If a new client connects,<br>&nbsp; &nbsp; currentTime = millis();<br>&nbsp; &nbsp; previousTime = currentTime;<br>&nbsp; &nbsp; Serial.println("New Client."); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// print a message out in the serial port<br>&nbsp; &nbsp; String currentLine = ""; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// make a String to hold incoming data from the client<br>&nbsp; &nbsp; while (client.connected() &amp;&amp; currentTime - previousTime &lt;= timeoutTime) { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// loop while the client's connected<br>&nbsp; &nbsp; &nbsp; currentTime = millis();<br>&nbsp; &nbsp; &nbsp; if (client.available()) { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // if there's bytes to read from the client,<br>&nbsp; &nbsp; &nbsp; &nbsp; char c = client.read(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // read a byte, then<br>&nbsp; &nbsp; &nbsp; &nbsp; Serial.write(c); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// print it out the serial monitor<br>&nbsp; &nbsp; &nbsp; &nbsp; header += c;<br>&nbsp; &nbsp; &nbsp; &nbsp; if (c == '\n') { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// if the byte is a newline character<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // if the current line is blank, you got two newline characters in a row.<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // that's the end of the client HTTP request, so send a response:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (currentLine.length() == 0) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // HTTP headers always start with a response code (e.g. HTTP/1.1 200 OK)<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // and a content-type so the client knows what's coming, then a blank line:<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println("HTTP/1.1 200 OK");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println("Content-type:text/html");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println("Connection: close");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println();<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Display the HTML web page<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println("&lt;!DOCTYPE html&gt;&lt;html&gt;");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println("&lt;head&gt;&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println("&lt;link rel=\"icon\" href=\"data:,\"&gt;");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println("&lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"&gt;");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println("&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jscolor/2.0.4/jscolor.min.js\"&gt;&lt;/script&gt;");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println("&lt;/head&gt;&lt;body&gt;&lt;div class=\"container\"&gt;&lt;div class=\"row\"&gt;&lt;h1&gt;ESP Color Picker&lt;/h1&gt;&lt;/div&gt;");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println("&lt;a class=\"btn btn-primary btn-lg\" href=\"#\" id=\"change_color\" role=\"button\"&gt;Change Color&lt;/a&gt; ");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println("&lt;input class=\"jscolor {onFineChange:'update(this)'}\" id=\"rgb\"&gt;&lt;/div&gt;");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println("&lt;script&gt;function update(picker) {document.getElementById('rgb').innerHTML = Math.round(picker.rgb[0]) + ', ' + &nbsp;Math.round(picker.rgb[1]) + ', ' + Math.round(picker.rgb[2]);");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println("document.getElementById(\"change_color\").href=\"?r\" + Math.round(picker.rgb[0]) + \"g\" + &nbsp;Math.round(picker.rgb[1]) + \"b\" + Math.round(picker.rgb[2]) + \"&amp;\";}&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;");<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // The HTTP response ends with another blank line<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; client.println();<br>
          <br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Request sample: /?r201g32b255&amp;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Red = 201 | Green = 32 | Blue = 255<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(header.indexOf("GET /?r") &gt;= 0) {<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pos1 = header.indexOf('r');<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pos2 = header.indexOf('g');<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pos3 = header.indexOf('b');<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pos4 = header.indexOf('&amp;');<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; redString = header.substring(pos1+1, pos2);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; greenString = header.substring(pos2+1, pos3);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; blueString = header.substring(pos3+1, pos4);<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /*Serial.println(redString.toInt());<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Serial.println(greenString.toInt());<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Serial.println(blueString.toInt());*/<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ledcWrite(redChannel, redString.toInt());<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ledcWrite(greenChannel, greenString.toInt());<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ledcWrite(blueChannel, blueString.toInt());<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Break out of the while loop<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; } else { // if you got a newline, then clear currentLine<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; currentLine = "";<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; &nbsp; } else if (c != '\r') { &nbsp;// if you got anything else but a carriage return character,<br>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; currentLine += c; &nbsp; &nbsp; &nbsp;// add it to the end of the currentLine<br>&nbsp; &nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; &nbsp; }<br>&nbsp; &nbsp; }<br>&nbsp; &nbsp; // Clear the header variable<br>&nbsp; &nbsp; header = "";<br>&nbsp; &nbsp; // Close the connection<br>&nbsp; &nbsp; client.stop();<br>&nbsp; &nbsp; Serial.println("Client disconnected.");<br>&nbsp; &nbsp; Serial.println("");<br>&nbsp; }<br>}
        </p>
      </div>
    </section>
    <section class="u-clearfix u-section-5" id="sec-a0b0">
      <div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-text u-text-1">After pasting this code make sure to replace the YOURSSID text and YOURPASSWORD text with the SSID of the wifi you<br>want to connect to and YOURPASSWORD with the password of the wifi you want to connect to, if you are struggling<br>to find these two in the code they are highlighted in red at the top of the code block in this page<br>
          <br>After doing this you may proceed with the wiring for this part:
        </p>
        <img class="u-image u-image-contain u-image-default u-image-1" src="/images/image7.png" alt="" data-image-width="815" data-image-height="712">
        <img class="u-expanded-width-xs u-image u-image-default u-image-2" src="/images/IMG_20241205_1614422152.jpg" alt="" data-image-width="3072" data-image-height="2682">
        <p class="u-text u-text-2">If you plan on using the rgb led by yourself in the feature keep in mind that the&nbsp;<br>Red Green and Blue is ordered like shown below, you can easily tell which side red is by locating the longer pin
        </p>
        <img class="u-expanded-width-xs u-image u-image-contain u-image-default u-image-3" src="/images/image8.png" alt="" data-image-width="611" data-image-height="155">
      </div>
    </section>
    <section class="u-clearfix u-section-6" id="sec-d901">
      <div class="u-clearfix u-sheet u-valign-middle-lg u-valign-middle-md u-valign-middle-sm u-valign-middle-xl u-sheet-1">
        <p class="u-text u-text-1">After you finish the wiring&nbsp; you can connect the board to you computer and upload the code. </p>
        <img class="u-image u-image-default u-image-1" src="/images/image31.png" alt="" data-image-width="459" data-image-height="71">
        <p class="u-text u-text-2">Once the code is uploaded​ start the serial monitor by pressing this button</p>
        <img class="u-image u-image-default u-preserve-proportions u-image-2" src="/images/imageee.png" alt="" data-image-width="197" data-image-height="107">
        <p class="u-text u-text-3">Make sure to select a baud rate of 115200</p>
        <img class="u-image u-image-default u-image-3" src="/images/baud.png" alt="" data-image-width="902" data-image-height="70">
      </div>
    </section>
    <section class="u-clearfix u-section-7" id="sec-b326">
      <div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-text u-text-1">Now press the physical reset button on the board<br>
        </p>
        <img class="u-image u-image-default u-image-1" src="/images/image10.png" alt="" data-image-width="3072" data-image-height="1672">
        <p class="u-text u-text-2">You should see something like this, if the connection fails double check the ssid and password<br>
        </p>
        <img class="u-image u-image-contain u-image-default u-image-2" src="/images/image9.png" alt="" data-image-width="297" data-image-height="114">
        <p class="u-text u-text-3">we now have the local IP adress of the server, copy that into any recent web browser to acess it's website<br>
          <br>If you did everything correctly this should display a webpage where you can remotely change the color of the RGB LED<br>If some colors display wrong makes sure you are using all three of the right resistors, that they are connected to the right place and that they aren't touching each other
        </p>
        <img class="u-image u-image-default u-image-3" src="/images/image11.png" alt="" data-image-width="550" data-image-height="293">
      </div>
    </section>
    
    
    
    <footer class="u-align-center u-clearfix u-container-align-center u-footer u-grey-80 u-footer" id="sec-3796"><div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <a href="/" class="u-border-none u-btn u-button-style u-palette-1-base u-btn-1">HOME </a>
      </div></footer>
    <section class="u-backlink u-clearfix u-grey-80">
      <p class="u-text">
        <span>This site was created with the </span>
        <a class="u-link" href="https://nicepage.com/" target="_blank" rel="nofollow">
          <span>Nicepage</span>
        </a>
      </p>
    </section>
  
</body></html>